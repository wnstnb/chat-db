# Goal
Application utilizes assistant-ui to interact with a database hosted on Supabase. The assistant will take natural language requests, query the database accordingly, and return accurate and thoughtful results.

# Requirements
1. UI: Needs to use https://www.assistant-ui.com/examples/ai-sdk
2. Chat persistence: 
    2a. Previous conversations need to be saved, and saved to a table called `conversations`
    - Table structure:
    ```
        conversations (
            id BIGSERIAL PRIMARY KEY, 
            title TEXT, -- Title of the conversation autogenerated by content of the conversation
            conversation TEXT, -- JSON stored as string
            created_at TIMESTAMP WITH TIME ZONE DEFAULT now()
        );
    ```
    - Conversation structure example:
    ```
        [{"role": "user", "content": "how many entities do we have in the DB?"}, {"role": "assistant", "content": " total_entities\n             13"}, {"role": "user", "content": "what are the different types of entities and their counts?"}, {"role": "assistant", "content": "entity_type  entity_count\n     person             7\n   business             6"}, {"role": "user", "content": "who are the people in the entities table?"}, ...]
    ```
    2b. The calls need to be saved to a table called `chat_call_info`
        - Structure of this table needs to be determined
3. Model used: `gpt-4o`
4. Database to reference: Supabase
5. System prompt: Needs development and refinement.
    - Refer to prompt_resources.py for table schema and example questions/queries.
6. Assistant responses: Need to be able to return structured data elegantly in addition to natural language feedback
    - Set temperature to 0
    - Should be restricted to only return information regarding the current database.
7. Should be able to handle BOTH queries and CRUD operations
    - CRUD operations require additional confirmation by user prior to executing. 